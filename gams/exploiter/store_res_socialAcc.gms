********************************************************************************
$ontext

   CGEBox project

   GAMS file : STORE_RES_SOCIALACC.GMS

   @purpose  :
   @author   :
   @date     : 07.03.25
   @since    :
   @refDoc   :
   @seeAlso  :
   @calledBy :

$offtext
********************************************************************************

$iftheni.ch %cattle% == true

* --- Edible protein output

p_res(%1,%2,"foodProd","Quant",soci,tCur)       =  sum((t_n(tCur,nCur)), p_probn(nCur) *   v_foodProd.l(soci,tCur,ncur) );
p_res(%1,%2,"foodProd","Quant",soci,"mean")     =  sum( tCur, p_res(%1,%2,"foodProd","Quant",soci,tCur) ) / p_cardtCur ;

* --- Edible protein output from animals

p_res(%1,%2,"foodProdAni","Quant",soci,tCur)    =  sum((t_n(tCur,nCur)), p_probn(nCur) *   v_foodProdAni.l(soci,tCur,ncur) );
p_res(%1,%2,"foodProdAni","Quant",soci,"mean")  = sum( tCur, p_res(%1,%2,"foodProdAni","Quant",soci,tCur) ) / p_cardtCur ;

* --- Edible foodein output per ha (non idling)

p_res(%1,%2,"foodHa","Quant",soci,tCur) $ sum( t_n(tCur,nCur), v_croplandActive.l(tCur,nCur) )
                                          =  p_res(%1,%2,"foodProd","Quant",soci,tCur) / sum((t_n(tCur,nCur)), p_probn(nCur) * v_croplandActive.l(tCur,nCur));
p_res(%1,%2,"foodHa","Quant",soci,"mean") = sum( tCur, p_res(%1,%2,"foodHa","Quant",soci,tCur) ) / p_cardtCur ;

* --- Edible protein output fed to animals

p_res(%1,%2,"foodFeed","Quant",soci,tCur)       =  sum((t_n(tCur,nCur)), p_probn(nCur) *   v_foodFeed.l(soci,tCur,ncur) );
p_res(%1,%2,"foodFeed","Quant",soci,"mean")     =  sum( tCur, p_res(%1,%2,"foodFeed","Quant",soci,tCur) ) / p_cardtCur ;

* --- Edible protein output plant based including bought inputs

p_res(%1,%2,"foodVeg","Quant",soci,tCur)        =  sum((t_n(tCur,nCur)), p_probn(nCur) *   v_foodVeg.l(soci,tCur,ncur) );
p_res(%1,%2,"foodVeg","Quant",soci,"mean")      =  sum( tCur, p_res(%1,%2,"foodVeg","Quant",soci,tCur) ) / p_cardtCur ;

* --- food efficiency (output devided by input)

p_res(%1,%2,"foodEffi","Quant",soci,tCur) $ p_res(%1,%2,"foodFeed","Quant",soci,tCur)
                                                =  p_res(%1,%2,"foodProdAni","Quant",soci,tCur) / p_res(%1,%2,"foodFeed","Quant",soci,tCur);
p_res(%1,%2,"foodEffi","Quant",soci,"mean")     = sum( tCur, p_res(%1,%2,"foodEffi","Quant",soci,tCur) ) / p_cardtCur ;

* --- Protein feed autarky

p_res(%1,%2,"ProtAutarc","Quant","",tCur)       = sum((t_n(tCur,nCur)), p_probn(nCur)  * sum(feeds, v_feedUseBuy.l(feeds,tCur,nCur) * p_feedContFMton(feeds,"xP") )/ sum(feeds, v_feeduse.l(feeds,tCur,nCur) * p_feedContFMton(feeds,"xP")) );
p_res(%1,%2,"ProtAutarc","Quant","","mean")     = sum( tCur, p_res(%1,%2,"ProtAutarc","Quant","",tCur) ) / p_cardtCur ;

$$endif.ch

