********************************************************************************
$ontext

   FarmDyn project

   GAMS file : COLLECT_SAMPLE_RESULTS.GMS

   @purpose  :
   @author   :
   @date     : 28.09.19
   @since    :
   @refDoc   :
   @seeAlso  :
   @calledBy :

$offtext
********************************************************************************
scalar rc; rc=sleep(1);
set allIds / set.allInstances /;

loop( (allIds),

        put_utilities 'gdxin' / '%resdir%/samples/res_%scenDes%_',allIds.tl:0:0,'.gdx' /;
        if ( execerror eq 0,
           execute_loadpoint p_res;
        else
           option kill= p_res;
           execerror=0;
        )

       if ( execerror eq 0,
           execute_loadpoint p_sumRes;
        else
           option kill=p_sumRes;
           execerror=0;
        )

          if ( execerror eq 0,
           execute_loadpoint p_sumLamasus;
        else
           option kill=p_sumLamasus;
           execerror=0;
        )


    ;

   );


execute_unload "%resdir%/samples/res_%scenDes%_until_%lastYear%.gdx" p_res,p_sumRes,p_sumLamasus;
