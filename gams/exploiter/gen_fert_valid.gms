********************************************************************************
$ontext

   FARMDYN project

   GAMS file : TEMPL.GMS

   @purpose  : Validation of fertilizing activities

   @author   : T.Kuhn,
   @date     : 17.12.20
   @since    :
   @refDoc   :
   @seeAlso  :
   @calledBy : store_res.gms

$offtext
********************************************************************************

parameter p_resFertVal(crops,t,nut,intens,fertSour);

p_resFertVal(curCrops,t,nut,intens,fertSour)
       $ ( sum( (till,plot_soil(plot,soil)), c_p_t_i(curCrops,plot,till,intens))
           $ sum ( (t_n(tCur,nCur),c_p_t_i(curCrops,plot,till,intens)),
                     v_cropHa.l(curCrops,plot,till,intens,tCur,nCur) )  )

           =

     sum( (t_n(tCur,nCur),c_p_t_i(curCrops,plot,till,intens) ),
          v_nutBalCropSour.l(fertSour,curCrops,plot,till,intens,nut,t,nCur) )
              /  sum ( (t_n(tCur,nCur),c_p_t_i(curCrops,plot,till,intens)),
                           v_cropHa.l(curCrops,plot,till,intens,tCur,nCur) )

          ;
option p_resFertVal:2:4:1;
display p_resFertVal ;
