********************************************************************************
$ontext

   Farmdny project

   GAMS file : GEN_HERDS_XML.GMS

   @purpose  : Generate XML statement for user defined herds
   @author   : W.Britz
   @date     : 27.01.18
   @since    :
   @refDoc   :
   @seeAlso  :
   @calledBy :

$offtext
********************************************************************************

  file xml / "%curDir%/../gui/herds.xml" /;
  put xml;
  xml.lw=0;

  put '<generated>' /;

  loop(crops $ arableCrops(crops),
    put ' <activity>' /;
    put '   <key>',crops.tl,'</key>' /;
    put '   <itemName>',crops.te(crops),'</itemName>' /;
    put '   <sel>[all,crops]</sel>' /;
    put ' </activity>' /;
  );

  loop(feeds,
    put ' <product>' /;
    put '   <key>',feeds.tl,'</key>' /;
    put '   <itemName>',feeds.te(feeds),'</itemName>' /;
    put '   <sel>[all,crops]</sel>' /;
    put ' </product>' /;
  );

  loop(gras $ sum( (grasOutputs,m), p_grasAttr(gras,grasOutputs,m)),

    put ' <activity>' /;
    put '   <key>',gras.te(gras),'</key>' /;
    put '   <itemName>',gras.te(gras),'</itemName>' /;
    put '   <sel>[all,crops]</sel>' /;
    put ' </activity>' /;
  );
  loop(past $ sum( (pastOutputs,m), p_grasAttr(past,pastOutputs,m)),

    put ' <activity>' /;
    put '   <key>',past.te(past),'</key>' /;
    put '   <itemName>',past.te(past),'</itemName>' /;
    put '   <sel>[all,crops]</sel>' /;
    put ' </activity>' /;
  );


  loop(cows $ (not sameas(cows,"motherCow")),

    put ' <activity>' /;
    put '   <key>',cows.te(cows),'</key>' /;
    put '   <itemName>',cows.te(cows),'</itemName>' /;
    put '   <sel>[all,herds]</sel>' /;
    put ' </activity>' /;
  );
  loop(bulls,

    put ' <activity>' /;
    put '   <key>',bulls.te(bulls),'</key>' /;
    put '   <itemName>',bulls.te(bulls),'</itemName>' /;
    put '   <sel>[all,herds]</sel>' /;
    put ' </activity>' /;
  );
  loop(bullsBought,

    put ' <activity>' /;
    put '   <key>',bullsBought.te(bullsBought),'</key>' /;
    put '   <itemName>',bullsBought.te(bullsBought),'</itemName>' /;
    put '   <sel>[all,herds]</sel>' /;
    put ' </activity>' /;
  );
  loop(bullsSold,

    put ' <activity>' /;
    put '   <key>',bullssold.te(bullsSold),'</key>' /;
    put '   <itemName>',bullsSold.te(bullsSold),'</itemName>' /;
    put '   <sel>[all,herds]</sel>' /;
    put ' </activity>' /;
  );
  loop(heifs,

    put ' <activity>' /;
    put '   <key>',heifs.te(heifs),'</key>' /;
    put '   <itemName>',heifs.te(heifs),'</itemName>' /;
    put '   <sel>[all,herds]</sel>' /;
    put ' </activity>' /;
  );
  loop(heifsBought,

    put ' <activity>' /;
    put '   <key>',heifsBought.te(heifsBought),'</key>' /;
    put '   <itemName>',heifsBought.te(heifsBought),'</itemName>' /;
    put '   <sel>[all,herds]</sel>' /;
    put ' </activity>' /;
  );
  loop(heifsSold,

    put ' <activity>' /;
    put '   <key>',heifssold.te(heifsSold),'</key>' /;
    put '   <itemName>',heifsSold.te(heifsSold),'</itemName>' /;
    put '   <sel>[all,herds]</sel>' /;
    put ' </activity>' /;
  );
  put '</generated>' /;
